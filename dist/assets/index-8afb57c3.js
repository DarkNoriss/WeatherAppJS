(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const r of c)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(c){const r={};return c.integrity&&(r.integrity=c.integrity),c.referrerPolicy&&(r.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?r.credentials="include":c.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(c){if(c.ep)return;c.ep=!0;const r=n(c);fetch(c.href,r)}})();const L=()=>{const t=document.querySelector(".header"),e=document.createElement("form");e.classList.add("form-location");const n=document.createElement("input");n.name="location",n.placeholder="Search City",n.required=!0,e.append(n);const o=document.createElement("button"),c=document.createElement("img");c.src="https://raw.githubusercontent.com/DarkNoriss/WeatherApp/fc6470583862003d99deee0d062eda33a958368d/src/icons/magnifying-glass.svg",o.append(c),e.append(o),t.append(e)},d="https://raw.githubusercontent.com/DarkNoriss/WeatherApp/master/src/icons/",q=()=>{const t=document.querySelector(".footer"),e=document.createElement("a");e.href="https://github.com/DarkNoriss",e.target="__blank";const n=document.createElement("img");n.src=`${d}github.svg`,e.append(n);const o=document.createElement("p");o.innerText="DarkNoriss",e.append(o),t.append(e)},u=()=>document.querySelector(".form-location"),p=t=>t.match(/\d+(?=\.png$)/)[0],m=t=>t.includes("day")?"day":"night",l="Â°",v=()=>{f("day");const t=document.querySelector(".main-container"),e=document.createElement("div");e.classList.add("app"),e.style.display="none";const n=D();e.append(n);const o=S();e.append(o);const c=A();e.append(c);const r=C();e.append(r),t.append(e)},D=()=>{const t=document.createElement("span");return t.classList.add("location"),t.setAttribute("data-location",""),t},S=()=>{const t=document.createElement("img");return t.classList.add("current-icon"),t.setAttribute("data-current-icon",""),t},A=()=>{const t=document.createElement("div");t.classList.add("current-temp");const e=document.createElement("span");e.setAttribute("data-current-temp",""),t.append(e);const n=document.createElement("span");return n.classList.add("current-temp-desc"),n.setAttribute("data-current-temp-desc",""),t.append(n),t},C=()=>{const t=document.createElement("div");t.classList.add("forecast");const e=a("0");t.append(e);const n=a("1");t.append(n);const o=a("2");return t.append(o),t},a=t=>{const e=document.createElement("div");e.classList.add("day");const n=document.createElement("span");n.setAttribute(`data-forecast-day${t}`,""),e.append(n);const o=document.createElement("img");o.setAttribute(`data-forecast-icon${t}`,""),e.append(o);const c=document.createElement("span");return c.setAttribute(`data-forecast-temp${t}`,""),e.append(c),e},w=t=>{I(t),O(t),P(t),R()},I=t=>{const e=document.querySelector("[data-location]");e.innerText=`${t.location.name}`},O=t=>{const e=t.current;N(e),F(e),x(e)},N=t=>{const n=t.condition.icon,o=m(n),c=p(n),r=document.querySelector("[data-current-icon]");r.src=`${d}${o}/${c}.svg`,f(o)},F=t=>{const e=t.temp_c,n=l,o=document.querySelector("[data-current-temp]");o.innerText=`${e}${n}`},x=t=>{const e=t.condition.text,n=document.querySelector("[data-current-temp-desc]");n.innerText=`${e}`},P=t=>{t.forecast.forecastday.forEach((n,o)=>{const c=n.date,r={day:"2-digit",month:"2-digit"},s=new Date(c).toLocaleDateString("en-GB",r),i=n.day.condition.icon,y=m(i),g=p(i),h=n.day.avgtemp_c,$=l,b=document.querySelector(`[data-forecast-day${o}]`);b.innerText=s;const E=document.querySelector(`[data-forecast-icon${o}]`);E.src=`${d}${y}/${g}.svg`;const T=document.querySelector(`[data-forecast-temp${o}]`);T.innerText=`${h}${$}`})},f=t=>{const e=document.querySelector("body");e.classList="",e.classList.add(`${t}`)},R=()=>document.querySelector(".app").style.display="",_="e40d0815f3d749dba28211048232503",B=async t=>{const e=`https://api.weatherapi.com/v1/forecast.json?key=${_}&q=${t}&days=3&aqi=no&alerts=no`;return await W(e)},W=async t=>fetch(t).then(e=>e.json()).catch(e=>console.error(e));window.onload=()=>{L(),v(),q(),u().addEventListener("submit",j)};const j=async t=>{t.preventDefault();const e=t.target[0].value,n=await B(`${e}`);n.error!=null?console.log("ERROR"):w(n),u().reset()};
