(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function o(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(n){if(n.ep)return;n.ep=!0;const c=o(n);fetch(n.href,c)}})();const u=()=>{const t=document.querySelector(".header"),e=document.createElement("form");e.classList.add("form-location");const o=document.createElement("input");o.name="location",o.placeholder="Search City",o.required=!0,e.append(o);const r=document.createElement("button"),n=document.createElement("img");n.src="./src/icons/magnifying-glass.svg",r.append(n),e.append(r),t.append(e)},l=()=>{const t=document.querySelector(".footer"),e=document.createElement("a");e.href="https://github.com/DarkNoriss",e.target="__blank";const o=document.createElement("div");fetch("./src/icons/github.svg").then(n=>n.text()).then(n=>{o.innerHTML=n}),e.append(o);const r=document.createElement("p");r.innerText="DarkNoriss",e.append(r),t.append(e)},m="1986480656ec490d950204923202611";let i;const p=async t=>{const e=`http://api.weatherapi.com/v1/current.json?key=${m}&q=${t}&aqi=no`;return await f(e)},f=async t=>fetch(t).then(e=>e.json()).catch(e=>console.error(e)),h=async()=>{await fetch("./src/weather_conditions.json").then(t=>t.json()).then(t=>{i=Object.values(t)}).catch(t=>console.error(t))},g=()=>i,y=()=>{const t=document.querySelector(".main-container"),e=document.createElement("div");e.classList.add("app");const o=document.createElement("span");o.classList.add("location"),o.setAttribute("data-location",""),o.innerText="Poznan",e.append(o);const r=document.createElement("img");r.src="./src/icons/day/113.svg",r.classList.add("current-icon"),r.setAttribute("data-current-icon",""),e.append(r);const n=document.createElement("div");n.classList.add("current-temp");const c=document.createElement("span");c.setAttribute("data-current-temp",""),c.innerText="32",n.append(c);const s=document.createElement("span");s.setAttribute("data-temp-sign",""),s.innerText="Â°",n.append(s),e.append(n),t.append(e)},E=t=>{console.log(t),v(t),b(t)},v=t=>{const e=document.querySelector("[data-location]");e.innerText=`${t.location.name}`},b=t=>{L(t);const e=document.querySelector("[data-current-temp]");e.innerText=`${t.current.temp_c}`},L=t=>{const o=new Date(t.location.localtime).getHours(),r=g(),n=t.current.condition.text,c=document.querySelector("[data-current-icon]");let s="";o>6&&o<18?r.forEach(a=>{a.day==n&&(s=`./src/icons/day/${a.icon}.svg`)}):r.forEach(a=>{a.night==n&&(s=`./src/icons/night/${a.icon}.svg`)}),c.src=s},d=()=>document.querySelector(".form-location");window.onload=()=>{u(),y(),l(),d().addEventListener("submit",q),h()};const q=async t=>{t.preventDefault();const e=t.target[0].value,o=await p(`${e}`);o.error!=null?console.log("ERROR"):E(o),d().reset()};
