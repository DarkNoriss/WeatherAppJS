(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const r of c)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(c){const r={};return c.integrity&&(r.integrity=c.integrity),c.referrerPolicy&&(r.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?r.credentials="include":c.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(c){if(c.ep)return;c.ep=!0;const r=n(c);fetch(c.href,r)}})();const a="https://raw.githubusercontent.com/DarkNoriss/WeatherApp/master/src/icons/",L=()=>{const t=document.querySelector(".header"),e=q();t.append(e)},q=()=>{const t=document.createElement("form");t.classList.add("form-location");const e=S();t.append(e);const n=v();return t.append(n),t},S=()=>{const t=document.createElement("input");return t.name="location",t.placeholder="Search City",t.required=!0,t},v=()=>{const t=document.createElement("button"),e=D();return t.append(e),t},D=()=>{const t=document.createElement("img");return t.src=`${a}magnifying-glass.svg`,t},A=()=>{const t=document.querySelector(".footer"),e=C();t.append(e)},C=()=>{const t=document.createElement("a");t.href="https://github.com/DarkNoriss",t.target="__blank";const e=I();t.append(e);const n=w();return t.append(n),t},I=()=>{const t=document.createElement("img");return t.src=`${a}github.svg`,t},w=()=>{const t=document.createElement("p");return t.innerText="DarkNoriss",t},u=()=>document.querySelector(".form-location"),m=t=>t.match(/\d+(?=\.png$)/)[0],p=t=>t.includes("day")?"day":"night",l="Â°",O=()=>{f("day");const t=document.querySelector(".main-container"),e=document.createElement("div");e.classList.add("app"),e.style.display="none";const n=x();e.append(n);const o=F();e.append(o);const c=N();e.append(c);const r=P();e.append(r),t.append(e)},x=()=>{const t=document.createElement("span");return t.classList.add("location"),t.setAttribute("data-location",""),t},F=()=>{const t=document.createElement("img");return t.classList.add("current-icon"),t.setAttribute("data-current-icon",""),t},N=()=>{const t=document.createElement("div");t.classList.add("current-temp");const e=document.createElement("span");e.setAttribute("data-current-temp",""),t.append(e);const n=document.createElement("span");return n.classList.add("current-temp-desc"),n.setAttribute("data-current-temp-desc",""),t.append(n),t},P=()=>{const t=document.createElement("div");t.classList.add("forecast");const e=d("0");t.append(e);const n=d("1");t.append(n);const o=d("2");return t.append(o),t},d=t=>{const e=document.createElement("div");e.classList.add("day");const n=document.createElement("span");n.setAttribute(`data-forecast-day${t}`,""),e.append(n);const o=document.createElement("img");o.setAttribute(`data-forecast-icon${t}`,""),e.append(o);const c=document.createElement("span");return c.setAttribute(`data-forecast-temp${t}`,""),e.append(c),e},k=t=>{B(t),R(t),K(t),W()},B=t=>{const e=document.querySelector("[data-location]");e.innerText=`${t.location.name}`},R=t=>{const e=t.current;_(e),j(e),H(e)},_=t=>{const n=t.condition.icon,o=p(n),c=m(n),r=document.querySelector("[data-current-icon]");r.src=`${a}${o}/${c}.svg`,f(o)},j=t=>{const e=t.temp_c,n=l,o=document.querySelector("[data-current-temp]");o.innerText=`${e}${n}`},H=t=>{const e=t.condition.text,n=document.querySelector("[data-current-temp-desc]");n.innerText=`${e}`},K=t=>{t.forecast.forecastday.forEach((n,o)=>{const c=n.date,r={day:"2-digit",month:"2-digit"},s=new Date(c).toLocaleDateString("en-GB",r),i=n.day.condition.icon,y=p(i),g=m(i),h=n.day.avgtemp_c,$=l,T=document.querySelector(`[data-forecast-day${o}]`);T.innerText=s;const b=document.querySelector(`[data-forecast-icon${o}]`);b.src=`${a}${y}/${g}.svg`;const E=document.querySelector(`[data-forecast-temp${o}]`);E.innerText=`${h}${$}`})},f=t=>{const e=document.querySelector("body");e.classList="",e.classList.add(`${t}`)},W=()=>document.querySelector(".app").style.display="",G="e40d0815f3d749dba28211048232503",M=async t=>{const e=`https://api.weatherapi.com/v1/forecast.json?key=${G}&q=${t}&days=3&aqi=no&alerts=no`;return await z(e)},z=async t=>fetch(t).then(e=>e.json()).catch(e=>console.error(e));window.onload=()=>{L(),O(),A(),u().addEventListener("submit",J)};const J=async t=>{t.preventDefault();const e=t.target[0].value,n=await M(`${e}`);n.error!=null?console.log("ERROR"):k(n),u().reset()};
