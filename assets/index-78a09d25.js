(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const c of t)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function r(t){const c={};return t.integrity&&(c.integrity=t.integrity),t.referrerPolicy&&(c.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?c.credentials="include":t.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(t){if(t.ep)return;t.ep=!0;const c=r(t);fetch(t.href,c)}})();const i=()=>{const n=document.querySelector(".header"),e=document.createElement("form");e.classList.add("form-location");const r=document.createElement("input");r.name="location",r.placeholder="Search City",r.required=!0,e.append(r);const o=document.createElement("button"),t=document.createElement("img");t.src="https://raw.githubusercontent.com/DarkNoriss/WeatherApp/fc6470583862003d99deee0d062eda33a958368d/src/icons/magnifying-glass.svg",o.append(t),e.append(o),n.append(e)},u=()=>{const n=document.querySelector(".footer"),e=document.createElement("a");e.href="https://github.com/DarkNoriss",e.target="__blank";const r=document.createElement("div");fetch("https://raw.githubusercontent.com/DarkNoriss/WeatherApp/master/src/icons/github.svg").then(t=>t.text()).then(t=>{r.innerHTML=t}),e.append(r);const o=document.createElement("p");o.innerText="DarkNoriss",e.append(o),n.append(e)},d=()=>{const n=document.querySelector(".main-container"),e=document.createElement("div");e.classList.add("app");const r=document.createElement("span");r.classList.add("location"),r.setAttribute("data-location",""),e.append(r);const o=document.createElement("img");o.classList.add("current-icon"),o.setAttribute("data-current-icon",""),e.append(o);const t=document.createElement("div");t.classList.add("current-temp");const c=document.createElement("span");c.setAttribute("data-current-temp",""),t.append(c);const s=document.createElement("span");s.setAttribute("data-temp-sign",""),t.append(s),e.append(t),n.append(e)},m=n=>{p(n),l(n)},p=n=>{const e=document.querySelector("[data-location]");e.innerText=`${n.location.name}`},l=n=>{const e=n.current;f(e),h(e)},f=n=>{const e=n.condition,r=g(e),o=y(e),t=document.querySelector("[data-current-icon]");t.src=`https://raw.githubusercontent.com/DarkNoriss/WeatherApp/master/src/icons/${r}/${o}.svg`},h=n=>{const e=document.querySelector("[data-current-temp]");return e.innerText=`${n.temp_c}Â°`},g=n=>n.icon.includes("day")?"day":"night",y=n=>n.icon.match(/\d+(?=\.png$)/)[0],b="1986480656ec490d950204923202611",E=async n=>{const e=`https://api.weatherapi.com/v1/current.json?key=${b}&q=${n}&aqi=no`;return await v(e)},v=async n=>fetch(n).then(e=>e.json()).catch(e=>console.error(e)),a=()=>document.querySelector(".form-location");window.onload=()=>{i(),d(),u(),a().addEventListener("submit",L)};const L=async n=>{n.preventDefault();const e=n.target[0].value,r=await E(`${e}`);r.error!=null?console.log("ERROR"):m(r),a().reset()};
