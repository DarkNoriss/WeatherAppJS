(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function c(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}})();const u=()=>{const t=document.querySelector(".header"),e=document.createElement("form");e.classList.add("form-location");const o=document.createElement("input");o.name="location",o.placeholder="Search City",o.required=!0,e.append(o);const c=document.createElement("button"),n=document.createElement("img");n.src="https://raw.githubusercontent.com/DarkNoriss/WeatherApp/fc6470583862003d99deee0d062eda33a958368d/src/icons/magnifying-glass.svg",c.append(n),e.append(c),t.append(e)},p=()=>{const t=document.querySelector(".footer"),e=document.createElement("a");e.href="https://github.com/DarkNoriss",e.target="__blank";const o=document.createElement("div");fetch("https://raw.githubusercontent.com/DarkNoriss/WeatherApp/master/src/icons/github.svg").then(n=>n.text()).then(n=>{o.innerHTML=n}),e.append(o);const c=document.createElement("p");c.innerText="DarkNoriss",e.append(c),t.append(e)},m="1986480656ec490d950204923202611";let i;const l=async t=>{const e=`http://api.weatherapi.com/v1/current.json?key=${m}&q=${t}&aqi=no`;return await h(e)},h=async t=>fetch(t).then(e=>e.json()).catch(e=>console.error(e)),f=async()=>{await fetch("https://raw.githubusercontent.com/DarkNoriss/WeatherApp/master/src/weather_conditions.json").then(t=>t.json()).then(t=>{i=Object.values(t)}).catch(t=>console.error(t))},g=()=>i,y=()=>{const t=document.querySelector(".main-container"),e=document.createElement("div");e.classList.add("app");const o=document.createElement("span");o.classList.add("location"),o.setAttribute("data-location",""),o.innerText="Poznan",e.append(o);const c=document.createElement("img");c.src="./src/icons/day/113.svg",c.classList.add("current-icon"),c.setAttribute("data-current-icon",""),e.append(c);const n=document.createElement("div");n.classList.add("current-temp");const r=document.createElement("span");r.setAttribute("data-current-temp",""),r.innerText="32",n.append(r);const s=document.createElement("span");s.setAttribute("data-temp-sign",""),s.innerText="Â°",n.append(s),e.append(n),t.append(e)},b=t=>{console.log(t),E(t),v(t)},E=t=>{const e=document.querySelector("[data-location]");e.innerText=`${t.location.name}`},v=t=>{w(t);const e=document.querySelector("[data-current-temp]");e.innerText=`${t.current.temp_c}`},w=t=>{const o=new Date(t.location.localtime).getHours(),c=g(),n=t.current.condition.text,r=document.querySelector("[data-current-icon]");let s="";o>6&&o<18?c.forEach(a=>{a.day==n&&(s=`https://raw.githubusercontent.com/DarkNoriss/WeatherApp/master/src/icons/day/${a.icon}.svg`)}):c.forEach(a=>{a.night==n&&(s=`https://raw.githubusercontent.com/DarkNoriss/WeatherApp/master/src/icons/night/${a.icon}.svg`)}),r.src=s},d=()=>document.querySelector(".form-location");window.onload=()=>{u(),y(),p(),d().addEventListener("submit",D),f()};const D=async t=>{t.preventDefault();const e=t.target[0].value,o=await l(`${e}`);o.error!=null?console.log("ERROR"):b(o),d().reset()};
