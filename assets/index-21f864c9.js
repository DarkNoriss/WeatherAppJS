(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function o(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(n){if(n.ep)return;n.ep=!0;const c=o(n);fetch(n.href,c)}})();const u=()=>{const t=document.querySelector(".header"),e=document.createElement("form");e.classList.add("form-location");const o=document.createElement("input");o.name="location",o.placeholder="Search City",o.required=!0,e.append(o);const r=document.createElement("button"),n=document.createElement("img");n.src="https://raw.githubusercontent.com/DarkNoriss/WeatherApp/fc6470583862003d99deee0d062eda33a958368d/src/icons/magnifying-glass.svg",r.append(n),e.append(r),t.append(e)},a="https://raw.githubusercontent.com/DarkNoriss/WeatherApp/master/src/icons/",m=()=>{const t=document.querySelector(".footer"),e=document.createElement("a");e.href="https://github.com/DarkNoriss",e.target="__blank";const o=document.createElement("img");o.src=`${a}github.svg`,e.append(o);const r=document.createElement("p");r.innerText="DarkNoriss",e.append(r),t.append(e)},p=()=>{i("day");const t=document.querySelector(".main-container"),e=document.createElement("div");e.classList.add("app");const o=document.createElement("span");o.classList.add("location"),o.setAttribute("data-location",""),e.append(o);const r=document.createElement("img");r.classList.add("current-icon"),r.setAttribute("data-current-icon",""),e.append(r);const n=document.createElement("div");n.classList.add("current-temp");const c=document.createElement("span");c.setAttribute("data-current-temp",""),n.append(c);const s=document.createElement("span");s.setAttribute("data-temp-sign",""),n.append(s),e.append(n),t.append(e)},l=t=>{f(t),g(t)},f=t=>{const e=document.querySelector("[data-location]");e.innerText=`${t.location.name}`},g=t=>{const e=t.current;h(e),y(e)},h=t=>{const e=t.condition,o=b(e),r=E(e),n=document.querySelector("[data-current-icon]");n.src=`${a}${o}/${r}.svg`,i(o)},y=t=>{const e=document.querySelector("[data-current-temp]");return e.innerText=`${t.temp_c}Â°`},b=t=>t.icon.includes("day")?"day":"night",E=t=>t.icon.match(/\d+(?=\.png$)/)[0],i=t=>{const e=document.querySelector("body");e.classList="",e.classList.add(`${t}`)},L="1986480656ec490d950204923202611",q=async t=>{const e=`https://api.weatherapi.com/v1/current.json?key=${L}&q=${t}&aqi=no`;return await v(e)},v=async t=>fetch(t).then(e=>e.json()).catch(e=>console.error(e)),d=()=>document.querySelector(".form-location");window.onload=()=>{u(),p(),m(),d().addEventListener("submit",S)};const S=async t=>{t.preventDefault();const e=t.target[0].value,o=await q(`${e}`);o.error!=null?console.log("ERROR"):l(o),d().reset()};
